{"ast":null,"code":"import _regeneratorRuntime from\"/home/om/Desktop/web/News_app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/om/Desktop/web/News_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/om/Desktop/web/News_app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/om/Desktop/web/News_app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/om/Desktop/web/News_app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/om/Desktop/web/News_app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import NewItem from'./NewItem';import Spinner from'./Spineer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);// let {pageSize} = this.props\n// static PropTypes = {\n//   country: PropTypes.string,\n//   category: PropTypes.string\n// }\nfunction News(){var _this;_classCallCheck(this,News);_this=_super.call(this);_this.prevClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,data,new_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(\"previous\");url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&apiKey=da04c6e03ad74679ab7598cd3ce1dc17&page=\").concat(_this.state.page-1,\"&\").concat(_this.props.pageSize);_context.next=4;return fetch(url);case 4:data=_context.sent;_context.next=7;return data.json();case 7:new_data=_context.sent;console.log(new_data);_this.setState({articles:new_data.articles,page:_this.state.page-1});case 10:case\"end\":return _context.stop();}},_callee);}));_this.nextClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var url,data,new_data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(\"next\");console.log(\"previous\");url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&apiKey=da04c6e03ad74679ab7598cd3ce1dc17&page=\").concat(_this.state.page+1,\"&\").concat(_this.props.pageSize);_context2.next=5;return fetch(url);case 5:data=_context2.sent;_context2.next=8;return data.json();case 8:new_data=_context2.sent;console.log(new_data);_this.setState({articles:new_data.articles,page:_this.state.page+1});case 11:case\"end\":return _context2.stop();}},_callee2);}));console.log('New Item');_this.state={articles:[],page:1};return _this;}_createClass(News,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var url,data,new_data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:console.log('componentDidMount');url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=da04c6e03ad74679ab7598cd3ce1dc17&page=1&\").concat(this.props.pageSize);_context3.next=4;return fetch(url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:new_data=_context3.sent;console.log(new_data);this.setState({articles:new_data.articles});case 10:case\"end\":return _context3.stop();}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center \",style:{marginTop:'90px'},children:\"Daily News - get fresh update\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row my-4\",children:this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 my-3\",children:/*#__PURE__*/_jsx(NewItem,{title:element.title,description:element.description,imgurl:element.urlToImage,url:element.url,author:element.author,date:element.publishedAt})},element.url);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary \",onClick:this.prevClick,children:\" \\u2190 Prvious\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary \",onClick:this.nextClick,children:\"Next \\u2192\"})]})]});}}]);return News;}(Component);News.defaultProps={country:'in',category:'general'};export default News;","map":{"version":3,"names":["React","Component","NewItem","Spinner","News","prevClick","console","log","url","props","country","state","page","pageSize","fetch","data","json","new_data","setState","articles","nextClick","category","marginTop","map","element","title","description","urlToImage","author","publishedAt","defaultProps"],"sources":["/home/om/Desktop/web/News_app/src/Components/News.js"],"sourcesContent":["import React, { Component } from 'react'\nimport NewItem from './NewItem'\nimport Spinner from './Spineer';\nimport PropTypes from 'prop-types';\n\n\nexport class News extends Component {\n    // let {pageSize} = this.props\n    static defaultProps = {\n      country: 'in',\n      category: 'general'\n    }\n\n    // static PropTypes = {\n    //   country: PropTypes.string,\n    //   category: PropTypes.string\n    // }\n        \n    constructor(){\n        super();\n        console.log('New Item');\n        this.state ={\n        articles: [],\n        page:1\n        }\n      }\n        async componentDidMount(){\n            console.log('componentDidMount');\n            const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=da04c6e03ad74679ab7598cd3ce1dc17&page=1&${this.props.pageSize}`\n            let data = await fetch(url);\n            let new_data = await data.json();\n            console.log(new_data);\n            this.setState({articles: new_data.articles});\n        }\n\n        prevClick= async()=>\n        {\n          \n          \n            console.log(\"previous\")\n            const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&apiKey=da04c6e03ad74679ab7598cd3ce1dc17&page=${this.state.page-1}&${this.props.pageSize}`;\n            let data = await fetch(url);\n            let new_data = await data.json();\n            console.log(new_data);  \n            this.setState(\n              {articles: new_data.articles,\n               page: this.state.page -1\n              });\n        \n      }\n\n        nextClick= async()=>\n        {\n          console.log(\"next\")\n          console.log(\"previous\")\n            const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&apiKey=da04c6e03ad74679ab7598cd3ce1dc17&page=${this.state.page+1}&${this.props.pageSize}`;\n            let data = await fetch(url);\n            let new_data = await data.json();\n            console.log(new_data);\n            this.setState(\n              {articles: new_data.articles,\n               page: this.state.page +1\n              });\n        }\n      \n  render() {\n    return (\n      <div>\n        <div className=\"container my-3\">\n        <h1 className='text-center ' style={{marginTop:'90px'}}>Daily News - get fresh update</h1>\n        {/* <Spinner/> */}\n        <div className=\"row my-4\">\n            {this.state.articles.map((element)=>{\n            return <div className=\"col-md-4 my-3\" key={element.url}>\n                     <NewItem title={element.title} description ={element.description} imgurl ={element.urlToImage} url ={element.url} author={element.author} date={element.publishedAt}/>\n                   </div>\n            })}\n             </div>\n        </div>\n      <div className=\"container d-flex justify-content-between\">\n      <button type=\"button\" class=\"btn btn-secondary \" onClick={this.prevClick}> &larr; Prvious</button>\n      <button  type=\"button\" class=\"btn btn-secondary \" onClick={this.nextClick}>Next &rarr;</button>\n      </div>\n\n      </div> \n    )\n  }\n}\n\nexport default News\n"],"mappings":"krBAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAOC,QAAO,KAAM,WAAW,CAC/B,MAAOC,QAAO,KAAM,WAAW,CAAC,wFAIhC,UAAaC,KAAI,4FACb;AAMA;AACA;AACA;AACA;AAEA,eAAa,sCACT,wBAAQ,MAgBRC,SAAS,wEAAE,0JAIPC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CACjBC,GAAG,wDAAmD,MAAKC,KAAK,CAACC,OAAO,0DAAiD,MAAKC,KAAK,CAACC,IAAI,CAAC,CAAC,aAAI,MAAKH,KAAK,CAACI,QAAQ,wBACtJC,MAAK,CAACN,GAAG,CAAC,QAAvBO,IAAI,qCACaA,KAAI,CAACC,IAAI,EAAE,QAA5BC,QAAQ,eACZX,OAAO,CAACC,GAAG,CAACU,QAAQ,CAAC,CACrB,MAAKC,QAAQ,CACX,CAACC,QAAQ,CAAEF,QAAQ,CAACE,QAAQ,CAC3BP,IAAI,CAAE,MAAKD,KAAK,CAACC,IAAI,CAAE,CACxB,CAAC,CAAC,CAAC,sDAEV,SAECQ,SAAS,wEAAE,+JAETd,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC,CACnBD,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CACfC,GAAG,wDAAmD,MAAKC,KAAK,CAACC,OAAO,0DAAiD,MAAKC,KAAK,CAACC,IAAI,CAAC,CAAC,aAAI,MAAKH,KAAK,CAACI,QAAQ,yBACtJC,MAAK,CAACN,GAAG,CAAC,QAAvBO,IAAI,uCACaA,KAAI,CAACC,IAAI,EAAE,QAA5BC,QAAQ,gBACZX,OAAO,CAACC,GAAG,CAACU,QAAQ,CAAC,CACrB,MAAKC,QAAQ,CACX,CAACC,QAAQ,CAAEF,QAAQ,CAACE,QAAQ,CAC3BP,IAAI,CAAE,MAAKD,KAAK,CAACC,IAAI,CAAE,CACxB,CAAC,CAAC,CAAC,wDACR,GA3CDN,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CACvB,MAAKI,KAAK,CAAE,CACZQ,QAAQ,CAAE,EAAE,CACZP,IAAI,CAAC,CACL,CAAC,cACH,CAAC,8IACC,+JACIN,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAC1BC,GAAG,wDAAmD,IAAI,CAACC,KAAK,CAACC,OAAO,sBAAa,IAAI,CAACD,KAAK,CAACY,QAAQ,4DAAmD,IAAI,CAACZ,KAAK,CAACI,QAAQ,yBACnKC,MAAK,CAACN,GAAG,CAAC,QAAvBO,IAAI,uCACaA,KAAI,CAACC,IAAI,EAAE,QAA5BC,QAAQ,gBACZX,OAAO,CAACC,GAAG,CAACU,QAAQ,CAAC,CACrB,IAAI,CAACC,QAAQ,CAAC,CAACC,QAAQ,CAAEF,QAAQ,CAACE,QAAQ,CAAC,CAAC,CAAC,6DAChD,mIAgCP,iBAAS,CACP,mBACE,oCACE,aAAK,SAAS,CAAC,gBAAgB,wBAC/B,WAAI,SAAS,CAAC,cAAc,CAAC,KAAK,CAAE,CAACG,SAAS,CAAC,MAAM,CAAE,UAAC,+BAA6B,EAAK,cAE1F,YAAK,SAAS,CAAC,UAAU,UACpB,IAAI,CAACX,KAAK,CAACQ,QAAQ,CAACI,GAAG,CAAC,SAACC,OAAO,CAAG,CACpC,mBAAO,YAAK,SAAS,CAAC,eAAe,uBAC5B,KAAC,OAAO,EAAC,KAAK,CAAEA,OAAO,CAACC,KAAM,CAAC,WAAW,CAAGD,OAAO,CAACE,WAAY,CAAC,MAAM,CAAGF,OAAO,CAACG,UAAW,CAAC,GAAG,CAAGH,OAAO,CAAChB,GAAI,CAAC,MAAM,CAAEgB,OAAO,CAACI,MAAO,CAAC,IAAI,CAAEJ,OAAO,CAACK,WAAY,EAAE,EADpIL,OAAO,CAAChB,GAAG,CAEzC,CACb,CAAC,CAAC,EACK,GACL,cACR,aAAK,SAAS,CAAC,0CAA0C,wBACzD,eAAQ,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,oBAAoB,CAAC,OAAO,CAAE,IAAI,CAACH,SAAU,UAAC,iBAAe,EAAS,cAClG,eAAS,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,oBAAoB,CAAC,OAAO,CAAE,IAAI,CAACe,SAAU,UAAC,aAAW,EAAS,GACzF,GAEA,CAEV,CAAC,kBAhFuBnB,SAAS,EAAtBG,IAAI,CAEN0B,YAAY,CAAG,CACpBpB,OAAO,CAAE,IAAI,CACbW,QAAQ,CAAE,SACZ,CAAC,CA8EL,cAAejB,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}